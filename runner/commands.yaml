# Console Commands for Statistics for Strava
# This file defines the allowed commands that can be executed via the strava-runner API.
# Both the runner and helper will automatically reload this file every 5 seconds.
#
# Format: Map-based with command ID as key.
# Each entry must have:
#   - name: Human-readable display name
#   - description: Brief description of what the command does
#   - command: Array of strings passed directly to `docker exec` (no shell)
#   - acceptsArgs: (optional) Boolean indicating if command accepts arguments
#   - argsDescription: (optional) Description of what arguments the command expects
#   - argsPlaceholder: (optional) Placeholder text for arguments input field

commands:
  build-files:
    name: "Build Files (Updates Dashboard)"
    description: "Build Strava files and update the dashboard"
    command: ["php", "bin/console", "app:strava:build-files"]

  import-data:
    name: "Import Data"
    description: "Import new activities from Strava API"
    command: ["php", "bin/console", "app:strava:import-data"]

  webhooks-create:
    name: "Webhooks Create"
    description: "Create a Strava webhook subscription"
    command: ["php", "bin/console", "app:strava:webhooks-create"]

  webhooks-unsubscribe:
    name: "Webhooks Unsubscribe"
    description: "Delete a Strava webhook subscription"
    command: ["php", "bin/console", "app:strava:webhooks-unsubscribe"]
    acceptsArgs: true
    argsDescription: "Subscription ID to unsubscribe"
    argsPlaceholder: "Enter subscription ID"

  webhooks-view:
    name: "Webhooks View"
    description: "View Strava webhook subscription(s)"
    command: ["php", "bin/console", "app:strava:webhooks-view"]
